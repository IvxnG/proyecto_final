<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyMarket - Compra y Vende</title>
    <link rel="stylesheet" href="css/landing.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"  crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header class="main-header">
        <div class="header-wrapper">
            <div class="main-logo">EasyMarket</div>
            <nav>
                <ul class="main-menu" id="menuItems">
                    <li><a href="html/sobreNosotros.html">Sobre Nosotros</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <section id="section-1">
        <div class="content-slider">
          <input type="radio" id="banner1" class="sec-1-input" name="banner" checked>
          <input type="radio" id="banner2" class="sec-1-input" name="banner">
          <input type="radio" id="banner3" class="sec-1-input" name="banner">
          <input type="radio" id="banner4" class="sec-1-input" name="banner">
          <div class="slider">
            <div id="top-banner-1" class="banner">
              <div class="banner-inner-wrapper">
                <h1>Bienvenido a<br>EasyMarket</h1>
                <div class="line"></div>
                <div class="create-account"><a href="html/registro.html">Crea una cuenta</a></div>
              </div>
            </div>
            <div id="top-banner-2" class="banner">
              <div class="banner-inner-wrapper">
                <h1>Compra en<br>EasyMarket</h1>
                <div class="line"></div>
                <div class="create-account"><a href="html/registro.html">Crea una cuenta</a></div>
              </div>
            </div>
            <div id="top-banner-3" class="banner">
              <div class="banner-inner-wrapper">
                  <h1>Vende en<br>EasyMarket</h1>
                <div class="line"></div>
                <div class="create-account"><a href="html/registro.html">Crea una cuenta</a></div>
              </div>
            </div>
            <div id="top-banner-4" class="banner">
              <div class="banner-inner-wrapper">
                  <h1>Busca en<br>EasyMarket</h1>
                <div class="line"></div>
                <div class="create-account"><a href="html/registro.html">Crea una cuenta</a></div>
              </div>
            </div>
          </div>
          <nav>
            <div class="controls">
              <label for="banner1"><span class="progressbar"><span class="progressbar-fill"></span></span><span>01</span> Entra</label>
              <label for="banner2"><span class="progressbar"><span class="progressbar-fill"></span></span><span>02</span> Compra</label>
              <label for="banner3"><span class="progressbar"><span class="progressbar-fill"></span></span><span>03</span> Vende</label>
              <label for="banner4"><span class="progressbar"><span class="progressbar-fill"></span></span><span>04</span> Disfruta</label>
            </div>
          </nav>
        </div>
    </section>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="js/landing.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const idUsuario = localStorage.getItem('idUsuario');
            const token = localStorage.getItem('token');
            const nombreUsuario = localStorage.getItem('nombreUsuario');

            const menu = document.getElementById('menuItems');

            function agregarElementoMenu(texto, enlace) {
                const elemento = document.createElement('li');
                const enlaceElemento = document.createElement('a');
                enlaceElemento.href = enlace;
                enlaceElemento.textContent = texto;
                elemento.appendChild(enlaceElemento);
                menu.appendChild(elemento);
            }

            if (!menu.querySelector('#logoutButton')) {
                if (idUsuario && token && nombreUsuario) {
                    agregarElementoMenu('Mi Perfil', 'html/profile.html');

                    const logoutButton = document.createElement('li');
                    logoutButton.innerHTML = '<a href="#" id="logoutButton">Cerrar Sesi√≥n</a>';
                    menu.appendChild(logoutButton);

                    document.getElementById('logoutButton').addEventListener('click', function() {
                        localStorage.clear();
                        window.location.href = 'html/login.html';
                    });
                } else { 
                    agregarElementoMenu('Log in', 'html/login.html');
                }
            }

            if (!menu.querySelector('a[href="html/productos.html"]')) {
                agregarElementoMenu('Productos', 'html/productos.html');
            }
        });
    </script>
</body>
</html>
